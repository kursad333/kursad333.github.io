(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();let i;function O(e){const t=[];if(e.url||t.push("- url => API-URL from HBO-ICT.Cloud"),e.apiKey||t.push("- apiKey => API-Key from HBO-ICT.Cloud"),e.database||t.push("- database => Name of target database for queries"),e.environment||t.push("- environment => Name of the environment"),t.length>0)throw`HBO-ICT.Cloud API configuration is missing one or more properties:
${t.join(`
`)}`;return i=e,!0}function v(e,...t){return u(),c(i.url+"/db",{method:"POST",headers:{Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify({query:e,values:t,database:i.database})})}function N(e){return u(),c(i.url+"/mail",{method:"POST",headers:{Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify(e)})}function P(e,t,r=!1){return u(),!e||!t?Promise.reject("fileName or dataUrl cannot be empty!"):c(i.url+"/file",{method:"POST",headers:{Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify({environment:i.environment,fileName:e,action:"upload",overwrite:r||!1,buffer:t.match("^data:(.*?);base64,(.*?)$")[2]})})}function T(e){return u(),e?c(i.url+"/file",{method:"POST",headers:{Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify({environment:i.environment,fileName:e,action:"deleteFile"})}):Promise.reject("fileName cannot be empty!")}function w(e){return u(),e?c(i.url+"/file",{method:"POST",headers:{Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify({environment:i.environment,fileName:e,action:"fileExists"})}):Promise.reject("fileName cannot be empty!")}function A(e){return u(),c(i.url+"/file",{method:"POST",headers:{Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify({environment:i.environment,fileName:e||"/",action:"deleteDirectory"})})}function I(e){return u(),c(i.url+"/file",{method:"POST",headers:{Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify({environment:i.environment,fileName:e||"/",action:"list"})})}function E(e){return u(),e?c(i.url+"/file",{method:"POST",headers:{Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify({environment:i.environment,fileName:e,action:"directoryExists"})}):Promise.reject("path cannot be empty!")}function c(e,t){return new Promise(async(r,a)=>{let n;try{n=await fetch(e,t)}catch(o){y(a,500,o);return}try{const o=await n.json();n.status===200?r(o):y(a,n.status,o.reason)}catch(o){y(a,500,o)}})}function y(e,t,r){e(t===400&&r||"Something bad happened, see console.")}function u(){if(!i)throw"HBO-ICT.Cloud API is not properly configured!"}const f=Object.freeze(Object.defineProperty({__proto__:null,configure:O,deleteDirectory:A,deleteFile:T,directoryExists:E,fileExists:w,listDirectory:I,queryDatabase:v,sendEmail:N,uploadFile:P},Symbol.toStringTag,{value:"Module"}));new DOMParser;function b(e,t){let r=e;return t&&Object.keys(t).length>0&&(r+=`?${j(t)}`),r}function p(e){return C(e)}function j(e){if(!e)return"";const t=new URLSearchParams;for(const[r,a]of Object.entries(e))if(Array.isArray(a))for(const n of a)t.append(r,n||"");else t.append(r,a||"");return t.toString()}function S(e){return K(e)}function C(e){const t=Array.isArray(e)?[]:{};let r,a;for(r in e)a=e[r],t[r]=typeof a=="object"&&a!==null?p(a):a;return t}function K(e){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};const t={},r=e.split("&"),a=r.length;let n,o,l;for(let m=0;m<a;m++)n=r[m].split("="),o=g(n.shift()),l=n.length?g(n.join("=")):null,Object.prototype.hasOwnProperty.call(t,o)?((typeof t[o]=="string"||t[o]===null)&&(t[o]=[t[o]]),t[o].push(l)):t[o]=l;return t}function g(e){e+="";try{return decodeURIComponent(e)}catch{return e}}let s={};z();function _(){return p(s)}function B(e,t=void 0){return s[e]?p({temp:s[e]}).temp:t}function F(e,t){s[e]=t,d()}function L(e){delete s[e],d()}function $(){s.clear(),d()}function z(){try{const e=localStorage.getItem("session");e&&(s=JSON.parse(e))}catch{}s||(s={},d())}function d(){localStorage.setItem("session",JSON.stringify(s))}const h=Object.freeze(Object.defineProperty({__proto__:null,clear:$,get:B,getAll:_,remove:L,set:F},Symbol.toStringTag,{value:"Module"}));function D(){return S(window.location.search)}function q(e,t=void 0){return S(window.location.search)[e]||t}function J(e,t){window.location.assign(b(e,t))}function M(e,t){history.replaceState({},"",b(e,t))}const H=Object.freeze(Object.defineProperty({__proto__:null,getFromQueryString:q,getQueryStringAsObject:D,redirect:J,replace:M},Symbol.toStringTag,{value:"Module"}));try{f.configure({url:"https://api.hbo-ict.cloud",apiKey:"pb1e2324_mercimk.arbKvU0FKIGD9SPt",database:"pb1e2324_mercimk_live",environment:"live"})}catch(e){console.error(e)}async function x(e){const t="INSERT INTO user (email, password, username) VALUES (?, ?, ?);";try{const r=await f.queryDatabase(t,e.email,e.password,e.username);return!0}catch(r){return console.log(r),!1}}async function R(e){const t="SELECT * FROM `user` WHERE `username` = ? AND `password` = ?";try{return await f.queryDatabase(t,e.username,e.password)}catch(r){return console.log(r),r}}async function V(e){const t="SELECT * FROM user WHERE user.username = ?";try{return await f.queryDatabase(t,e)}catch(r){return console.log(r),r}}function W(e){let t=0;return e.forEach(r=>{r!=null&&r.length>3&&r.length<25&&t++}),t==e.length}function G(e){let t=0;return e.forEach(r=>{const a=parseFloat(r);!isNaN(a)&&isFinite(a)&&a>1&&t++}),t==e.length}function Q(e){const t=e===void 0?"Invoer incorrect, probeer het nog eens.":e,r=document.getElementById("actionFeedback");r.className="action-feedback action-error",r.innerHTML=`<p>${t}</p>`,setTimeout(()=>{r.className="",r.innerHTML=""},3e3)}function U(e){return e.split("T")[0]}function k(){const t=new Date().toISOString();return U(t)}function X(e){if(e!=null){let t=e.toLowerCase().slice(1);return e.charAt(0).toUpperCase()+t}else return null}async function Y(e){const t=await R(e);return t.length===1?(h.set("user",{...e,userId:t[0].userId}),!0):!1}function Z(){h.remove("user"),location.reload()}function ee(){h.get("user")===void 0&&H.redirect("../login/")}export{ee as a,U as b,Y as c,Z as d,H as e,X as f,G as g,k as h,f as i,V as j,h as l,Q as s,x as u,W as v};
//# sourceMappingURL=AuthService-961c522c.js.map
