{"version":3,"file":"ParticipantDB-fb99b23b.js","sources":["../../src/db/ParticipantDB.ts"],"sourcesContent":["import {DataResponse, Participant} from \"../types\";\nimport {api} from \"@hboictcloud/api\";\nimport \"../../wwwroot/assets/legacy/hboictcloud-config\";\n\n\n// Function used to add list of participants to destined event\nexport async function dbAddParticipant(eventId: number, participants: Array<Participant>): Promise<string | Array<any>> {\n    const query: string = 'INSERT INTO `participant`(`eventId`, `name`, `userId`) VALUES (?, ?, ?);'\n    let dataResponses = []\n    for (let participant of participants) {\n        try {\n            const data: string | Array<DataResponse> = await api.queryDatabase(\n                query,\n                eventId, participant.name, participant.userId\n            )\n            dataResponses.push(data)\n        } catch (reason: string) {\n            console.log(reason)\n            return reason\n        }\n    }\n    return dataResponses\n}\n\nexport async function dbGetParticipants(eventId: number): Promise<string | Array<Participant>> {\n    const query: string = \"SELECT p.* FROM participant p WHERE p.eventId = ?\";\n    try {\n        const data = api.queryDatabase(\n            query,\n            eventId\n        )\n        return data\n    } catch (reason: string) {\n        console.log(reason);\n        return reason\n    }\n}\n"],"names":["dbAddParticipant","eventId","participants","query","dataResponses","participant","data","api","reason","dbGetParticipants"],"mappings":"8CAMsB,eAAAA,EAAiBC,EAAiBC,EAAgE,CACpH,MAAMC,EAAgB,2EACtB,IAAIC,EAAgB,CAAA,EACpB,QAASC,KAAeH,EAChB,GAAA,CACM,MAAAI,EAAqC,MAAMC,EAAI,cACjDJ,EACAF,EAASI,EAAY,KAAMA,EAAY,MAAA,EAE3CD,EAAc,KAAKE,CAAI,QAClBE,EAAgB,CACrB,eAAQ,IAAIA,CAAM,EACXA,CACX,CAEG,OAAAJ,CACX,CAEA,eAAsBK,EAAkBR,EAAuD,CAC3F,MAAME,EAAgB,oDAClB,GAAA,CAKO,OAJMI,EAAI,cACbJ,EACAF,CAAA,QAGCO,EAAgB,CACrB,eAAQ,IAAIA,CAAM,EACXA,CACX,CACJ"}